{% extends 'base.html' %}
{% load static %}

{% block content %}
    

    <div class="bg-gray-200 text-sm">
        <div class="container-fluid">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb mb-0 py-3">
            <li class="breadcrumb-item"><a class="fw-light" href="/dashboard">Home</a></li>
            <li class="breadcrumb-item fw-light" aria-current="page"><a class="fw-light" href="{% url 'users' %}">Users pages</a> </li>
            <li class="breadcrumb-item active fw-light" aria-current="page"><a class="fw-light" href="{% url 'edit_users_desc' user.id %}">user Desc</a> </li>
            <li class="breadcrumb-item active fw-light" aria-current="page">user Edit</li>
            </ol>
        </nav>
        </div>
    </div>


    <div class="container-fluid">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header border-bottom">
                <h3 class="h4 mb-0">{{ user.username }}</h3>
                </div>
                <div class="card-body">
                <p class="text-sm">Change your form setting here.</p>
                <form method="post" action="">
                    {% csrf_token %}
                    <div class="mb-3">
                        <label class="form-label" for="username">Current Username:</label> 
                        {{ user.username }} <br>
                        <input type="text" style="width:220px;" name="username" id="username" class="form-control" value="{{ form.username.value|default:'' }}">
                        {% if form.username.errors %}
                            <div class="text-danger">
                                {{ form.username.errors }}
                            </div>
                        {% endif %}
                    </div>
                
                    <div class="mb-3">
                        <label class="form-label" for="role">Current Role:</label> 
                        {{ user.userprofile.role }}<br>
                        {{ form.role }}
                        {% if form.role.errors %}
                            <div class="text-danger">
                                {{ form.role.errors }}
                            </div>
                        {% endif %}
                    </div>
                
                    {% if error_message %}
                        <div class="alert alert-danger">
                            <strong>{{ error_message }}</strong>
                        </div>
                    {% endif %}
                    
                    <button class="btn btn-primary" type="submit">Submit</button>
                </form>
                </div>
            </div>
        </div>
      </div>


{% endblock %}